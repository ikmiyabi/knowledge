# リーダブルコード適用チェックリスト

このチェックリストはリーダブルコードに連動した、リファクタリングに必要な観点をまとめたチェックリストです。
リファクタリングをする際のチェックリストとしてご利用下さい。

## リーダブルコード目次
### 1章 理解しやすいコード
### 2章 名前に情報を詰め込む
- 明確な単語を選んでいること
- tmpやretvalなどの汎用的な名前になっていないこと
- 具体的な名前を使って、物事を詳細に説明していること
- 変数名に大切な情報を追加していること
- スコープの大きな変数には長い名前をつけていること
- 独自の省略規則を用いていないこと

### 3章 誤解されない名前
- 誤解されない名前をつけていること
    - 限界値を含めるときはminとmaxを使う
    - 範囲を指定するときはfirstとlastを使う
    - 包含／排他的範囲にはbeginとendを使う
    - ブール値の変数名は頭にis・has・can・shouldなどをつけて分かりやすくすること
    - ユーザーの期待に合わせた変数名になっていること（get()やsize()には軽量なメソッドが期待されている）

### 4章 美しさ
- 改行位置が一貫していること
- メソッドを使って重複を排除できる箇所は
- 一貫性と意味のある並びになっていること
- 宣言がブロックにまとめられていること
- 論理的なブロックは、空行を使ってまとめられていること
- スタイルに一貫性があること

### 5章 コメントすべきことを知る

- コメントすべきではないこと
    - コードからすぐに抽出出来ること
    - ひどい名前の関数を補うコメントはせず、コードを修正すること
- コメントのためのコメントをしていないこと
- 定数の値にまつわる背景
- 自分の考えを記録していること（なぜコードがこうなっているのか）
- コードの欠陥にコメントをつけていること
- ハマりそうな罠を告知していること
- ファイルやクラスには全体像のコメントをしていること
- 読み手が細部に捕らわれないようにコードブロックに概要をまとめていること

### 6章 コメントは正確で簡潔に
- 簡潔であること
- 関数の動作はできるだけ正確に説明していること
- 曖昧な代名詞を避けること
- コードの意図を書く

### 7章 ループとロジックの単純化
- 条件式の並び順は、左側に「調査対象（変化する）」、右側に「比較対象（変化しない）」となっていること
- 三項演算子はそれによって簡潔になるときにだけ使い、基本的にはif/elseを使うこと
- do/whileループを避けること
- 関数から早く返すこと（早期リターン）
- gotoは基本的に使わないこと
- ネストを浅くすること

### 8章 巨大な式を分割する
- 説明変数を用いること
- 要約変数を用いること
- 二重否定の条件式にはド・モルガンの法則を用いること

### 9章 変数と読みやすさ
- 不要な変数を削除すること
    - 複雑な式を分割していない
    - 重複コードの削除になっていない
- 制御フロー変数を削除する
- 変数のスコープはできるだけ縮めること
- 変数の定義は変数を使う直前に移動すること
- 変数は一度だけ書き込むようにすること（変数を操作する場所が増えると、現在地の判断が難しくなる）
- できるだけイミュータブルな変数を用いること

### 10章 無関係の下位問題を抽出する
- 無関係の下位問題を抽出すること
    1. コードの高レベルな目標は何かを自問する
    2. コードを高レベルの目標に直接効果があるのか、無関係の下位問題を解決しているのか自問する
    3. 無関係の下位問題を解決しているコードがあれ相当量あればそれらを抽出して別の関数にする
- 疎結合な汎用コードをたくさん作る
- 既存のインターフェースをラップした関数を作り簡潔にする
- やりすぎには注意 

### 11章 一度に１つのことを
- 一度に１つのタスクを行う構成となっていること
    - 読みにくいコードがあれば、そこで行われているタスクをすべて列挙し、別の関数に分割できるタスクを分割する

### 12章 コードに思いを込める
- コードを書く前にロジックを説明する文章を考えてコードを書くこと

### 13章 短いコードを書く
- 汎用的なユーティリティを作って使い回すこと
- 表陣ライブラリのAPIや汎用ライブラリを広く知っておくこと
- 未使用のコードや無用の機能を削除すること
- たまには標準ライブラリのすべての関数・モジュール・型の名前を15分かけて読んでみること

### 14章 テストと読みやすさ
- 最小のテストコードを作ること（テストの本質は1行にまとめることができる）
    - 「こういう状況と入力から、こういう振る舞いと出力を期待する」のレベルまで要約できる。
- より良いライブラリを探し、エラーメッセージを読みやすくすること
- テストの適切な入力値を選択すること
- 入力値を単純化すること
- テストの機能に名前を付けること
    - Test_関数名_状況()（Test_SortAndFilterDocs(), Test_SortAndFilterDocs_BasicSorting()など）
- テストの為に本物のコードを犠牲にしていないこと
