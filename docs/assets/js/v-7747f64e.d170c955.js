"use strict";(self.webpackChunkknowledge=self.webpackChunkknowledge||[]).push([[6374],{1964:(e,l,i)=>{i.r(l),i.d(l,{data:()=>a});const a={key:"v-7747f64e",path:"/other/other/update.html",title:"update_special_product性能改善",lang:"ja",frontmatter:{},excerpt:"",headers:[{level:2,title:"既存仕様",slug:"既存仕様",children:[{level:3,title:"generate_csvタスクの処理の概要",slug:"generate-csvタスクの処理の概要",children:[]}]},{level:2,title:"対応方針",slug:"対応方針",children:[{level:3,title:"概要",slug:"概要",children:[]},{level:3,title:"1.全体の速度を向上する",slug:"_1-全体の速度を向上する",children:[]},{level:3,title:"2.特集テーマの更新対象を限定する",slug:"_2-特集テーマの更新対象を限定する",children:[]},{level:3,title:"3.キーワード更新の手順を簡略化する",slug:"_3-キーワード更新の手順を簡略化する",children:[]}]}],filePathRelative:"other/other/update.md",git:{updatedTime:1680329545e3}}},121:(e,l,i)=>{i.r(l),i.d(l,{default:()=>t});const a=(0,i(6252).uE)('<h1 id="update-special-product性能改善" tabindex="-1"><a class="header-anchor" href="#update-special-product性能改善" aria-hidden="true">#</a> update_special_product性能改善</h1><h2 id="既存仕様" tabindex="-1"><a class="header-anchor" href="#既存仕様" aria-hidden="true">#</a> 既存仕様</h2><p>調査資料のリンクを貼る</p><p>実行時間が最も多くかかっているのは、generate_csvタスク</p><h3 id="generate-csvタスクの処理の概要" tabindex="-1"><a class="header-anchor" href="#generate-csvタスクの処理の概要" aria-hidden="true">#</a> generate_csvタスクの処理の概要</h3><ul><li>csvファイルの読み込み</li><li>行ごとに以下を実行 <ul><li>行をhash化</li><li>conditionを判定1件あたり0.1秒</li><li></li></ul></li></ul><h2 id="対応方針" tabindex="-1"><a class="header-anchor" href="#対応方針" aria-hidden="true">#</a> 対応方針</h2><h3 id="概要" tabindex="-1"><a class="header-anchor" href="#概要" aria-hidden="true">#</a> 概要</h3><ol><li>全体の速度改善を行う <ol><li>condition.rbの条件を削減</li><li>不要な判定処理を行わないように修正</li></ol></li><li>更新対象を限定する 1.</li><li>キーワード更新の手順を簡略化する</li></ol><h3 id="_1-全体の速度を向上する" tabindex="-1"><a class="header-anchor" href="#_1-全体の速度を向上する" aria-hidden="true">#</a> 1.全体の速度を向上する</h3><p>・</p><h3 id="_2-特集テーマの更新対象を限定する" tabindex="-1"><a class="header-anchor" href="#_2-特集テーマの更新対象を限定する" aria-hidden="true">#</a> 2.特集テーマの更新対象を限定する</h3><p>既存の仕様では、特集テーマが更新される契機は大きく以下の3パターン</p><ul><li>製品が更新された場合</li><li>製品に紐づくカテゴリーグループが更新された場合</li><li>新規出展企業の条件を満たさなくなった場合 <ul><li>CVが3件以上になった</li><li>1週間以上経過した</li></ul></li></ul><p>修正後は、以下の2パターンを変更する</p><ul><li>製品が更新された場合</li><li>新規出展企業の条件を満たさなくなった場合 <ul><li>CVが3件以上になった</li><li>1週間以上経過した</li></ul></li></ul><h3 id="_3-キーワード更新の手順を簡略化する" tabindex="-1"><a class="header-anchor" href="#_3-キーワード更新の手順を簡略化する" aria-hidden="true">#</a> 3.キーワード更新の手順を簡略化する</h3>',17),r={},t=(0,i(3744).Z)(r,[["render",function(e,l){return a}]])},3744:(e,l)=>{l.Z=(e,l)=>{const i=e.__vccOpts||e;for(const[e,a]of l)i[e]=a;return i}}}]);